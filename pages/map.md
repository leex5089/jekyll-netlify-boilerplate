---
layout: map
title: map
permalink: /map_draft.html
section: map
intro_paragraph: >
  This is the Blog index page, listing each post with an
  automatically generated post excerpt. It's a normal Jekyll page but uses
  the `_layouts/blog.html` template to output the blog's posts after the page
  content.
---
 Show and hide layers   body { margin: 0; padding: 0; } #map { position: absolute; top: 0; bottom: 0; width: 100%; } #menu { background: #fff; position: absolute; z-index: 1; top: 10px; right: 10px; border-radius: 3px; width: 120px; border: 1px solid rgba(0, 0, 0, 0.4); font-family: 'Open Sans', sans-serif; } #menu a { font-size: 13px; color: #404040; display: block; margin: 0; padding: 0; padding: 10px; text-decoration: none; border-bottom: 1px solid rgba(0, 0, 0, 0.25); text-align: center; } #menu a:last-child { border: none; } #menu a:hover { background-color: #f8f8f8; color: #404040; } #menu a.active { background-color: #3887be; color: #ffffff; } #menu a.active:hover { background: #3074a4; } .quakeInfo { position: absolute; font-family: sans-serif; margin-top: 5px; margin-left: 5px; padding: 5px; width: 35%; border: 2px solid black; font-size: 18px; color: #000000; background-color: rgba(240, 255, 255, 0.8); border-radius: 1px; }

**Impact of increased Minnesota ECE investment by Legislative district**

**House District:**

**Female with Young Children Employment Share**

**Base:**

**Narrow Policy:**

**Broad Policy:**

**ECE Expenditure (annual)**

**Base:**

**Narrow Policy:**

**Broad Policy:**

**Source: 2021 ACS 5 year estimates; Policy parameters from Borowsky et al (2022).**

mapboxgl.accessToken = 'pk.eyJ1Ijoid29ubGVlIiwiYSI6ImNqYjY0bHZlczBvMnAzMm16OTlyYWFzYnYifQ.yaLx92dXVMk1NKp5Fp7HUg'; const map = new mapboxgl.Map({ container: 'map', // Choose from Mapbox's core styles, or make your own style with Mapbox Studio style: 'mapbox://styles/mapbox/light-v11', zoom: 5.7, center: \[ -96.25751346020881, 45.94410722715156 \] }); // Wait until the map has finished loading. map.on('load', () => { // Add a custom vector tileset source. This tileset contains // point features representing h\_expenditure-0usavk. Each feature contains // three properties. For example: // { // alt\_name: "Museo Arqueologico", // name: "Museo Inka", // tourism: "museum" // } map.addSource('h\_expenditure-0usavk', { type: 'vector', url: 'mapbox://wonlee.6vtxd5qs' }); map.addLayer({ 'id': 'h\_expenditure-0usavk', 'type': 'fill', 'source': 'h\_expenditure-0usavk', 'layout': { // Make the layer visible by default. 'visibility': 'visible' }, 'paint': { 'fill-color':\[ 'interpolate', \['linear'\], \['get', 'base'\], 0, '#334ABC', \], "fill-opacity": 0.25 }, 'source-layer': 'h\_expenditure-0usavk', }); // Add the Mapbox Terrain v2 vector tileset. Read more about // the structure of data in this tileset in the documentation: // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/ map.addSource('h\_female\_share\_emp-3m4gpt', { type: 'vector', url: 'mapbox://wonlee.04dqlj74' }); map.addLayer({ 'id': 'h\_female\_share\_emp-3m4gpt', 'type': 'fill', 'source': 'h\_female\_share\_emp-3m4gpt', 'layout': { // Make the layer visible by default. 'visibility': 'visible' }, 'paint': { 'fill-color':\[ 'interpolate', \['linear'\], \['get', 'base'\], 0, '#334ABC', \], "fill-opacity": 0.25 }, 'source-layer': 'h\_female\_share\_emp-3m4gpt', }); }); // After the last frame rendered before the map enters an "idle" state. map.on('idle', () => { // If these two layers were not added to the map, abort if (!map.getLayer('h\_female\_share\_emp-3m4gpt') || !map.getLayer('h\_expenditure-0usavk')) { return; } // Enumerate ids of the layers. const toggleableLayerIds = \['h\_female\_share\_emp-3m4gpt', 'h\_expenditure-0usavk'\]; // Set up the corresponding toggle button for each layer. for (const id of toggleableLayerIds) { // Skip layers that already have a button set up. if (document.getElementById(id)) { continue; } // Create a link. const link = document.createElement('a'); link.id = id; link.href = '#'; link.textContent = id; link.className = 'active'; // Show or hide layer when the toggle is clicked. link.onclick = function (e) { const clickedLayer = this.textContent; e.preventDefault(); e.stopPropagation(); const visibility = map.getLayoutProperty( clickedLayer, 'visibility' ); // Toggle layer visibility by changing the layout object's visibility property. if (visibility === 'visible') { map.setLayoutProperty(clickedLayer, 'visibility', 'none'); this.className = ''; } else { this.className = 'active'; map.setLayoutProperty( clickedLayer, 'visibility', 'visible' ); } }; const layers = document.getElementById('menu'); layers.appendChild(link); } map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_expenditure-0usavk'\] }); if (ZCTA5CE10.length >0) { document.getElementById('house\_dist').innerHTML = ZCTA5CE10\[0\].properties.house\_dist ; } else { document.getElemnentById('house\_dist').innerHTML ='house\_dist'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_expenditure-0usavk'\] }); if (ZCTA5CE10.length >0) { document.getElementById('ex\_base').innerHTML = '$'+ZCTA5CE10\[0\].properties.base.toFixed(1) ; } else { document.getElemnentById('ex\_base').innerHTML ='ex\_base'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_expenditure-0usavk'\] }); if (ZCTA5CE10.length >0) { document.getElementById('ex\_narrow').innerHTML = '$'+ZCTA5CE10\[0\].properties.narrow.toFixed(1) ; } else { document.getElemnentById('ex\_narrow').innerHTML ='ex\_narrow'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_expenditure-0usavk'\] }); if (ZCTA5CE10.length >0) { document.getElementById('ex\_broad').innerHTML = '$'+ZCTA5CE10\[0\].properties.broad.toFixed(1) ; } else { document.getElemnentById('ex\_broad').innerHTML ='ex\_broad'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_female\_share\_emp-3m4gpt'\] }); if (ZCTA5CE10.length >0) { document.getElementById('house\_dist').innerHTML = ZCTA5CE10\[0\].properties.house\_dist ; } else { document.getElemnentById('house\_dist').innerHTML ='house\_dist'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_female\_share\_emp-3m4gpt'\] }); if (ZCTA5CE10.length >0) { document.getElementById('em\_base').innerHTML = ZCTA5CE10\[0\].properties.base.toFixed(3) ; } else { document.getElemnentById('em\_base').innerHTML ='em\_base'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_female\_share\_emp-3m4gpt'\] }); if (ZCTA5CE10.length >0) { document.getElementById('em\_narrow').innerHTML = ZCTA5CE10\[0\].properties.narrow.toFixed(3) ; } else { document.getElemnentById('em\_narrow').innerHTML ='em\_narrow'; } }); map.on('mousemove',function(e){ var ZCTA5CE10=map.queryRenderedFeatures(e.point, { layers: \['h\_female\_share\_emp-3m4gpt'\] }); if (ZCTA5CE10.length >0) { document.getElementById('em\_broad').innerHTML = ZCTA5CE10\[0\].properties.broad.toFixed(3) ; } else { document.getElemnentById('em\_broad').innerHTML ='em\_broad'; } }); });